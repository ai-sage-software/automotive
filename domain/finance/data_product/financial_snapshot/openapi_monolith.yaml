---
openapi: "3.0.1"
info:
  title: "Domain API Specification"
  description: "Automotive Retail Ontology."
  version: "1.0.0"
paths:
  /financial-snapshots:
    get:
      tags:
      - "FinancialSnapshot"
      summary: "Retrieve a list of all FinancialSnapshot records."
      operationId: "listFinancialSnapshots"
      parameters:
      - name: "limit"
        in: "query"
        description: "Maximum number of records to return."
        schema:
          maximum: 100
          minimum: 1
          type: "integer"
          default: 50
      - name: "cursor"
        in: "query"
        description: "starting point for next set of results"
        schema:
          type: "string"
      responses:
        "200":
          description: "A list of FinancialSnapshot records."
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/FinancialSnapshot"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "500":
          $ref: "#/components/responses/ServerError"
    post:
      tags:
      - "FinancialSnapshot"
      summary: "Create a new FinancialSnapshot record."
      operationId: "createFinancialSnapshot"
      requestBody:
        description: "FinancialSnapshot data to create the new resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FinancialSnapshotCreate"
        required: true
      responses:
        "201":
          description: "FinancialSnapshot created successfully."
          headers:
            Location:
              description: "The URI of the newly created resource."
              schema:
                type: "string"
                example: "/financial-snapshots/PR-1234567"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshot"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"
  /financial-snapshots/{financialSnapshotKey}:
    get:
      tags:
      - "FinancialSnapshot"
      summary: "Retrieve a specific FinancialSnapshot record."
      operationId: "getFinancialSnapshotById"
      responses:
        "200":
          description: "The requested FinancialSnapshot record."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshot"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    put:
      tags:
      - "FinancialSnapshot"
      summary: "Replace a FinancialSnapshot record."
      operationId: "replaceFinancialSnapshot"
      requestBody:
        description: "Full record data to replace the existing resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FinancialSnapshot"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshot"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
      - "FinancialSnapshot"
      summary: "Delete a FinancialSnapshot Record"
      description: "Marks the FinancialSnapshot record as inactive ..."
      operationId: "deleteFinancialSnapshotRecord"
      responses:
        "204":
          description: "Record successfully deleted (or deactivated)."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
      - "FinancialSnapshot"
      summary: "Partially update a FinancialSnapshot record."
      operationId: "updateFinancialSnapshot"
      requestBody:
        description: "Included Fields to be updated will be modified."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FinancialSnapshotUpdate"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshot"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    parameters:
    - name: "financialSnapshotKey"
      in: "path"
      description: "The unique identifier for the specific FinancialSnapshot."
      required: true
      schema:
        type: "string"
        example: "PR-1234567"
  /financial-snapshots/{financialSnapshotKey}/financial-snapshot-line-items:
    get:
      tags:
      - "FinancialSnapshotLineItem"
      summary: "Retrieve a list of FinancialSnapshotLineItem re..."
      operationId: "listFinancialSnapshotLineItemsByFinancialSnapshotKey"
      parameters:
      - name: "limit"
        in: "query"
        description: "Maximum number of records to return."
        schema:
          maximum: 100
          minimum: 1
          type: "integer"
          default: 50
      - name: "cursor"
        in: "query"
        description: "starting point for next set of results"
        schema:
          type: "string"
      responses:
        "200":
          description: "A list of FinancialSnapshotLineItem records."
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/FinancialSnapshotLineItem"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "500":
          $ref: "#/components/responses/ServerError"
    post:
      tags:
      - "FinancialSnapshotLineItem"
      summary: "Create a new FinancialSnapshotLineItem record."
      operationId: "createFinancialSnapshotLineItem"
      requestBody:
        description: "FinancialSnapshotLineItem data to create the ne..."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FinancialSnapshotLineItemCreate"
        required: true
      responses:
        "201":
          description: "FinancialSnapshotLineItem created successfully."
          headers:
            Location:
              description: "The URI of the newly created resource."
              schema:
                type: "string"
                example: "/part-search-results/PS-12345/bill-of-materials/BOM-001"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshotLineItem"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"
    parameters:
    - name: "financialSnapshotKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
  /financial-snapshots/{financialSnapshotKey}/financial-snapshot-line-items/{financialSnapshotLineItemKey}:
    get:
      tags:
      - "FinancialSnapshotLineItem"
      summary: "Retrieve a specific FinancialSnapshotLineItem r..."
      operationId: "getFinancialSnapshotLineItemById"
      responses:
        "200":
          description: "The requested FinancialSnapshotLineItem record."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshotLineItem"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    put:
      tags:
      - "FinancialSnapshotLineItem"
      summary: "Replace a FinancialSnapshotLineItem record."
      operationId: "replaceFinancialSnapshotLineItem"
      requestBody:
        description: "Full record data to replace the existing resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FinancialSnapshotLineItem"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshotLineItem"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
      - "FinancialSnapshotLineItem"
      summary: "Delete a FinancialSnapshotLineItem Record"
      description: "Marks the FinancialSnapshotLineItem record as i..."
      operationId: "deleteFinancialSnapshotLineItemRecord"
      responses:
        "204":
          description: "Record successfully deleted (or deactivated)."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
      - "FinancialSnapshotLineItem"
      summary: "Partially update a FinancialSnapshotLineItem re..."
      operationId: "updateFinancialSnapshotLineItem"
      requestBody:
        description: "Included Fields to be updated will be modified."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FinancialSnapshotLineItemUpdate"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshotLineItem"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    parameters:
    - name: "financialSnapshotKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
    - name: "financialSnapshotLineItemKey"
      in: "path"
      description: "The unique identifier for the specific FinancialSnapshotLineItem."
      required: true
      schema:
        type: "string"
        example: "PR-1234567"
  /financial-snapshots/{financialSnapshotKey}/moneys:
    get:
      tags:
      - "Money"
      summary: "Retrieve a list of Money records scoped by fina..."
      operationId: "listMoneysByFinancialSnapshotKey"
      parameters:
      - name: "limit"
        in: "query"
        description: "Maximum number of records to return."
        schema:
          maximum: 100
          minimum: 1
          type: "integer"
          default: 50
      - name: "cursor"
        in: "query"
        description: "starting point for next set of results"
        schema:
          type: "string"
      responses:
        "200":
          description: "A list of Money records."
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/Money"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "500":
          $ref: "#/components/responses/ServerError"
    parameters:
    - name: "financialSnapshotKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
  /financial-snapshots/{financialSnapshotKey}/moneys/{moneyKey}:
    get:
      tags:
      - "Money"
      summary: "Retrieve a specific Money record."
      operationId: "getMoneyById"
      responses:
        "200":
          description: "The requested Money record."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Money"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    put:
      tags:
      - "Money"
      summary: "Replace a Money record."
      operationId: "replaceMoney"
      requestBody:
        description: "Full record data to replace the existing resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Money"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Money"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    parameters:
    - name: "financialSnapshotKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
    - name: "moneyKey"
      in: "path"
      description: "The unique identifier for the specific Money."
      required: true
      schema:
        type: "string"
        example: "PR-1234567"
  /financial-snapshots/{financialSnapshotKey}/financial-snapshot-criterias:
    get:
      tags:
      - "FinancialSnapshotCriteria"
      summary: "Retrieve a list of FinancialSnapshotCriteria re..."
      operationId: "listFinancialSnapshotCriteriasByFinancialSnapshotKey"
      parameters:
      - name: "limit"
        in: "query"
        description: "Maximum number of records to return."
        schema:
          maximum: 100
          minimum: 1
          type: "integer"
          default: 50
      - name: "cursor"
        in: "query"
        description: "starting point for next set of results"
        schema:
          type: "string"
      responses:
        "200":
          description: "A list of FinancialSnapshotCriteria records."
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/FinancialSnapshotCriteria"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "500":
          $ref: "#/components/responses/ServerError"
    post:
      tags:
      - "FinancialSnapshotCriteria"
      summary: "Create a new FinancialSnapshotCriteria record."
      operationId: "createFinancialSnapshotCriteria"
      requestBody:
        description: "FinancialSnapshotCriteria data to create the ne..."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FinancialSnapshotCriteriaCreate"
        required: true
      responses:
        "201":
          description: "FinancialSnapshotCriteria created successfully."
          headers:
            Location:
              description: "The URI of the newly created resource."
              schema:
                type: "string"
                example: "/part-search-results/PS-12345/bill-of-materials/BOM-001"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshotCriteria"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"
    parameters:
    - name: "financialSnapshotKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
  /financial-snapshots/{financialSnapshotKey}/financial-snapshot-criterias/{financialSnapshotCriteriaKey}:
    get:
      tags:
      - "FinancialSnapshotCriteria"
      summary: "Retrieve a specific FinancialSnapshotCriteria r..."
      operationId: "getFinancialSnapshotCriteriaById"
      responses:
        "200":
          description: "The requested FinancialSnapshotCriteria record."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshotCriteria"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    put:
      tags:
      - "FinancialSnapshotCriteria"
      summary: "Replace a FinancialSnapshotCriteria record."
      operationId: "replaceFinancialSnapshotCriteria"
      requestBody:
        description: "Full record data to replace the existing resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FinancialSnapshotCriteria"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshotCriteria"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
      - "FinancialSnapshotCriteria"
      summary: "Delete a FinancialSnapshotCriteria Record"
      description: "Marks the FinancialSnapshotCriteria record as i..."
      operationId: "deleteFinancialSnapshotCriteriaRecord"
      responses:
        "204":
          description: "Record successfully deleted (or deactivated)."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
      - "FinancialSnapshotCriteria"
      summary: "Partially update a FinancialSnapshotCriteria re..."
      operationId: "updateFinancialSnapshotCriteria"
      requestBody:
        description: "Included Fields to be updated will be modified."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FinancialSnapshotCriteriaUpdate"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialSnapshotCriteria"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    parameters:
    - name: "financialSnapshotKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
    - name: "financialSnapshotCriteriaKey"
      in: "path"
      description: "The unique identifier for the specific FinancialSnapshotCriteria."
      required: true
      schema:
        type: "string"
        example: "PR-1234567"
components:
  schemas:
    ErrorDetail:
      required:
      - "code"
      - "message"
      - "timestamp"
      type: "object"
      properties:
        code:
          type: "string"
          description: "A unique, system-defined error code (e.g., 'AUT..."
          example: "NOT_FOUND_PR"
        message:
          type: "string"
          description: "A human-readable summary providing specific det..."
          example: "Personnel Record with ID PR-1234567 was not found."
        details:
          type: "array"
          description: "Optional array of specific field-level validati..."
          items:
            type: "object"
            properties:
              field:
                type: "string"
                description: "The specific field that failed validation (e.g., 'firstName')."
                example: "payrollId"
              issue:
                type: "string"
                description: "The validation message for the field (e.g., 'must be\
                  \ numeric')."
                example: "must be unique"
        timestamp:
          type: "string"
          description: "The time the error occurred, in ISO 8601 format."
          format: "date-time"
          example: "2025-11-10T10:30:00Z"
      description: "Standard format for all API error responses."
    FinancialCategoryTypes:
      type: "string"
      description: "types of financial categorys."
      enum:
      - "CAPEX"
      - "OPEX"
      - "HARDWARE"
      - "SOFTWARE"
      - "MAINTENANCE"
      - "TRAVEL"
      - "TRAINING"
      - "UTILITIES"
      - "RENT"
      - "SALARY"
      - "REVENUE"
      - "TAX"
      - "OTHER"
    FinancialReportTypes:
      type: "string"
      description: "types of financial reports."
      enum:
      - "TRIAL_BALANCE"
      - "BALANCE_SHEET"
      - "P_AND_L"
      - "CASH_FLOW_STATEMENT"
      - "BUDGET_VARIANCE"
      - "CASH_FLOW_PROJECTION"
      - "GENERAL_LEDGER_DETAIL"
    FinancialSnapshot:
      type: "object"
      properties:
        financial_snapshot_id:
          type: "string"
          description: "The unique ID for this generated snapsho..."
        financial_snapshot_key:
          type: "string"
          description: "The unique ID for this generated snapsho..."
        as_of_date:
          type: "string"
          description: "The date and time the snapshot was proce..."
          format: "date"
        criteria:
          $ref: "#/components/schemas/FinancialSnapshotCriteria"
        lines:
          $ref: "#/components/schemas/FinancialSnapshotLineItems"
      description: "A real-time aggregated financial report (P&L, B..."
    FinancialSnapshotCreate:
      required:
      - "financial_snapshot_key"
      type: "object"
      description: "FinancialSnapshot Create for Post"
      allOf:
      - $ref: "#/components/schemas/FinancialSnapshot"
    FinancialSnapshotCriteria:
      type: "object"
      properties:
        financial_snapshot_criteria_id:
          type: "string"
          description: "The unique ID for this generated snapsho..."
        financial_snapshot_criteria_key:
          type: "string"
          description: "The unique ID for this generated snapsho..."
        organization_id:
          type: "string"
          description: "The unique identifier for the organizati..."
        financial_report_type:
          $ref: "#/components/schemas/FinancialReportTypes"
        as_of_date:
          type: "string"
          description: "The exact date for which the financial d..."
          format: "date"
        comparison_date:
          type: "string"
          description: "Optional date defining a previous period..."
          format: "date"
        gl_account_filter_key:
          type: "string"
          description: "Optional key for filtering the report to..."
      description: "Defines the criteria for requesting a real-time..."
    FinancialSnapshotCriteriaCreate:
      required:
      - "financial_snapshot_criteria_key"
      type: "object"
      description: "FinancialSnapshotCriteria Create for Post"
      allOf:
      - $ref: "#/components/schemas/FinancialSnapshotCriteria"
    FinancialSnapshotCriteriaUpdate:
      type: "object"
      properties:
        financial_report_type:
          $ref: "#/components/schemas/FinancialReportTypes"
        as_of_date:
          type: "string"
          description: "The exact date for which the financial d..."
          format: "date"
        comparison_date:
          type: "string"
          description: "Optional date defining a previous period..."
          format: "date"
      description: "FinancialSnapshotCriteria Update for Patch and Put"
    FinancialSnapshotLineItem:
      type: "object"
      properties:
        financial_snapshot_line_item_id:
          type: "string"
          description: "The unique ID for this generated snapsho..."
        financial_snapshot_line_item_key:
          type: "string"
          description: "The unique ID for this generated snapsho..."
        account_name:
          type: "string"
          description: "The descriptive name of the account line..."
        financial_category_type:
          $ref: "#/components/schemas/FinancialCategoryTypes"
        current_balance:
          $ref: "#/components/schemas/Money"
        comparison_balance:
          $ref: "#/components/schemas/Money"
      description: "A generic line item representing an aggregated ..."
    FinancialSnapshotLineItemCreate:
      required:
      - "financial_snapshot_line_item_key"
      type: "object"
      description: "FinancialSnapshotLineItem Create for Post"
      allOf:
      - $ref: "#/components/schemas/FinancialSnapshotLineItem"
    FinancialSnapshotLineItemUpdate:
      type: "object"
      properties:
        account_name:
          type: "string"
          description: "The descriptive name of the account line..."
        comparison_balance:
          $ref: "#/components/schemas/Money"
        current_balance:
          $ref: "#/components/schemas/Money"
        financial_category_type:
          $ref: "#/components/schemas/FinancialCategoryTypes"
      description: "FinancialSnapshotLineItem Update for Patch and Put"
    FinancialSnapshotLineItems:
      type: "array"
      items:
        $ref: "#/components/schemas/FinancialSnapshotLineItem"
    FinancialSnapshotUpdate:
      type: "object"
      properties:
        as_of_date:
          type: "string"
          description: "The date and time the snapshot was proce..."
          format: "date"
        criteria:
          $ref: "#/components/schemas/FinancialSnapshotCriteria"
        lines:
          $ref: "#/components/schemas/FinancialSnapshotLineItems"
      description: "FinancialSnapshot Update for Patch and Put"
    Money:
      type: "object"
      properties:
        money_key:
          type: "string"
          description: "The unique key for the monetary value."
        money_id:
          type: "string"
          description: "The unique ID for the monetary value."
        currency_code:
          type: "string"
          description: "ISO currency code, e.g., 'USD'."
        display_value:
          type: "string"
          description: "The locale-specific display format for t..."
        locale:
          type: "string"
          description: "The locale code (e.g., en-US, fr-FR)."
        value:
          type: "string"
          description: "The monetary value."
      description: "Represents a monetary value, including its curr..."
  responses:
    NotFoundError:
      description: "The requested resource was not found."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    BadRequestError:
      description: "The request was malformed, failed validation, o..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    UnauthorizedError:
      description: "Authentication failed. The access token is miss..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    ForbiddenError:
      description: "The authenticated user does not have the necess..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    ConflictError:
      description: "The request could not be completed because it c..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    ServerError:
      description: "An unexpected error occurred on the server whil..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
