---
openapi: "3.0.1"
info:
  title: "Domain API Specification"
  description: "Automotive Retail Ontology."
  version: "1.0.0"
paths:
  /payments:
    get:
      tags:
      - "Payment"
      summary: "Retrieve a list of all Payment records."
      operationId: "listPayments"
      parameters:
      - name: "limit"
        in: "query"
        description: "Maximum number of records to return."
        schema:
          maximum: 100
          minimum: 1
          type: "integer"
          default: 50
      - name: "cursor"
        in: "query"
        description: "starting point for next set of results"
        schema:
          type: "string"
      responses:
        "200":
          description: "A list of Payment records."
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/Payment"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "500":
          $ref: "#/components/responses/ServerError"
    post:
      tags:
      - "Payment"
      summary: "Create a new Payment record."
      operationId: "createPayment"
      requestBody:
        description: "Payment data to create the new resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentCreate"
        required: true
      responses:
        "201":
          description: "Payment created successfully."
          headers:
            Location:
              description: "The URI of the newly created resource."
              schema:
                type: "string"
                example: "/payments/PR-1234567"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Payment"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"
  /payments/{paymentKey}:
    get:
      tags:
      - "Payment"
      summary: "Retrieve a specific Payment record."
      operationId: "getPaymentById"
      responses:
        "200":
          description: "The requested Payment record."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Payment"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    put:
      tags:
      - "Payment"
      summary: "Replace a Payment record."
      operationId: "replacePayment"
      requestBody:
        description: "Full record data to replace the existing resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Payment"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Payment"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
      - "Payment"
      summary: "Delete a Payment Record"
      description: "Marks the Payment record as inactive or removes..."
      operationId: "deletePaymentRecord"
      responses:
        "204":
          description: "Record successfully deleted (or deactivated)."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
      - "Payment"
      summary: "Partially update a Payment record."
      operationId: "updatePayment"
      requestBody:
        description: "Included Fields to be updated will be modified."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentUpdate"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Payment"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    parameters:
    - name: "paymentKey"
      in: "path"
      description: "The unique identifier for the specific Payment."
      required: true
      schema:
        type: "string"
        example: "PR-1234567"
  /payments/{paymentKey}/payment-transactions:
    get:
      tags:
      - "PaymentTransaction"
      summary: "Retrieve a list of PaymentTransaction records s..."
      operationId: "listPaymentTransactionsByPaymentKey"
      parameters:
      - name: "limit"
        in: "query"
        description: "Maximum number of records to return."
        schema:
          maximum: 100
          minimum: 1
          type: "integer"
          default: 50
      - name: "cursor"
        in: "query"
        description: "starting point for next set of results"
        schema:
          type: "string"
      responses:
        "200":
          description: "A list of PaymentTransaction records."
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/PaymentTransaction"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "500":
          $ref: "#/components/responses/ServerError"
    post:
      tags:
      - "PaymentTransaction"
      summary: "Create a new PaymentTransaction record."
      operationId: "createPaymentTransaction"
      requestBody:
        description: "PaymentTransaction data to create the new resou..."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentTransactionCreate"
        required: true
      responses:
        "201":
          description: "PaymentTransaction created successfully."
          headers:
            Location:
              description: "The URI of the newly created resource."
              schema:
                type: "string"
                example: "/part-search-results/PS-12345/bill-of-materials/BOM-001"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentTransaction"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"
    parameters:
    - name: "paymentKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
  /payments/{paymentKey}/payment-transactions/{paymentTransactionKey}:
    get:
      tags:
      - "PaymentTransaction"
      summary: "Retrieve a specific PaymentTransaction record."
      operationId: "getPaymentTransactionById"
      responses:
        "200":
          description: "The requested PaymentTransaction record."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentTransaction"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    put:
      tags:
      - "PaymentTransaction"
      summary: "Replace a PaymentTransaction record."
      operationId: "replacePaymentTransaction"
      requestBody:
        description: "Full record data to replace the existing resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentTransaction"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentTransaction"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
      - "PaymentTransaction"
      summary: "Delete a PaymentTransaction Record"
      description: "Marks the PaymentTransaction record as inactive..."
      operationId: "deletePaymentTransactionRecord"
      responses:
        "204":
          description: "Record successfully deleted (or deactivated)."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
      - "PaymentTransaction"
      summary: "Partially update a PaymentTransaction record."
      operationId: "updatePaymentTransaction"
      requestBody:
        description: "Included Fields to be updated will be modified."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentTransactionUpdate"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentTransaction"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    parameters:
    - name: "paymentKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
    - name: "paymentTransactionKey"
      in: "path"
      description: "The unique identifier for the specific PaymentTransaction."
      required: true
      schema:
        type: "string"
        example: "PR-1234567"
  /payments/{paymentKey}/moneys:
    get:
      tags:
      - "Money"
      summary: "Retrieve a list of Money records scoped by paym..."
      operationId: "listMoneysByPaymentKey"
      parameters:
      - name: "limit"
        in: "query"
        description: "Maximum number of records to return."
        schema:
          maximum: 100
          minimum: 1
          type: "integer"
          default: 50
      - name: "cursor"
        in: "query"
        description: "starting point for next set of results"
        schema:
          type: "string"
      responses:
        "200":
          description: "A list of Money records."
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/Money"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "500":
          $ref: "#/components/responses/ServerError"
    parameters:
    - name: "paymentKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
  /payments/{paymentKey}/moneys/{moneyKey}:
    get:
      tags:
      - "Money"
      summary: "Retrieve a specific Money record."
      operationId: "getMoneyById"
      responses:
        "200":
          description: "The requested Money record."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Money"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    put:
      tags:
      - "Money"
      summary: "Replace a Money record."
      operationId: "replaceMoney"
      requestBody:
        description: "Full record data to replace the existing resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Money"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Money"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    parameters:
    - name: "paymentKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
    - name: "moneyKey"
      in: "path"
      description: "The unique identifier for the specific Money."
      required: true
      schema:
        type: "string"
        example: "PR-1234567"
  /payments/{paymentKey}/payment-method-references:
    get:
      tags:
      - "PaymentMethodReference"
      summary: "Retrieve a list of PaymentMethodReference recor..."
      operationId: "listPaymentMethodReferencesByPaymentKey"
      parameters:
      - name: "limit"
        in: "query"
        description: "Maximum number of records to return."
        schema:
          maximum: 100
          minimum: 1
          type: "integer"
          default: 50
      - name: "cursor"
        in: "query"
        description: "starting point for next set of results"
        schema:
          type: "string"
      responses:
        "200":
          description: "A list of PaymentMethodReference records."
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/PaymentMethodReference"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "500":
          $ref: "#/components/responses/ServerError"
    post:
      tags:
      - "PaymentMethodReference"
      summary: "Create a new PaymentMethodReference record."
      operationId: "createPaymentMethodReference"
      requestBody:
        description: "PaymentMethodReference data to create the new r..."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentMethodReferenceCreate"
        required: true
      responses:
        "201":
          description: "PaymentMethodReference created successfully."
          headers:
            Location:
              description: "The URI of the newly created resource."
              schema:
                type: "string"
                example: "/part-search-results/PS-12345/bill-of-materials/BOM-001"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentMethodReference"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"
    parameters:
    - name: "paymentKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
  /payments/{paymentKey}/payment-method-references/{paymentMethodReferenceKey}:
    get:
      tags:
      - "PaymentMethodReference"
      summary: "Retrieve a specific PaymentMethodReference record."
      operationId: "getPaymentMethodReferenceById"
      responses:
        "200":
          description: "The requested PaymentMethodReference record."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentMethodReference"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    put:
      tags:
      - "PaymentMethodReference"
      summary: "Replace a PaymentMethodReference record."
      operationId: "replacePaymentMethodReference"
      requestBody:
        description: "Full record data to replace the existing resource."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentMethodReference"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentMethodReference"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
      - "PaymentMethodReference"
      summary: "Delete a PaymentMethodReference Record"
      description: "Marks the PaymentMethodReference record as inac..."
      operationId: "deletePaymentMethodReferenceRecord"
      responses:
        "204":
          description: "Record successfully deleted (or deactivated)."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
      - "PaymentMethodReference"
      summary: "Partially update a PaymentMethodReference record."
      operationId: "updatePaymentMethodReference"
      requestBody:
        description: "Included Fields to be updated will be modified."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PaymentMethodReferenceUpdate"
        required: true
      responses:
        "200":
          description: "Record updated successfully. Returns the update..."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaymentMethodReference"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    parameters:
    - name: "paymentKey"
      in: "path"
      description: "The unique identifier for the parent resource."
      required: true
      schema:
        type: "string"
    - name: "paymentMethodReferenceKey"
      in: "path"
      description: "The unique identifier for the specific PaymentMethodReference."
      required: true
      schema:
        type: "string"
        example: "PR-1234567"
components:
  schemas:
    Codes:
      type: "array"
      description: "List of Codes"
      items:
        type: "string"
    ErrorDetail:
      required:
      - "code"
      - "message"
      - "timestamp"
      type: "object"
      properties:
        code:
          type: "string"
          description: "A unique, system-defined error code (e.g., 'AUT..."
          example: "NOT_FOUND_PR"
        message:
          type: "string"
          description: "A human-readable summary providing specific det..."
          example: "Personnel Record with ID PR-1234567 was not found."
        details:
          type: "array"
          description: "Optional array of specific field-level validati..."
          items:
            type: "object"
            properties:
              field:
                type: "string"
                description: "The specific field that failed validation (e.g., 'firstName')."
                example: "payrollId"
              issue:
                type: "string"
                description: "The validation message for the field (e.g., 'must be\
                  \ numeric')."
                example: "must be unique"
        timestamp:
          type: "string"
          description: "The time the error occurred, in ISO 8601 format."
          format: "date-time"
          example: "2025-11-10T10:30:00Z"
      description: "Standard format for all API error responses."
    Identifier:
      $ref: "#/components/schemas/Codes"
    IdentifierCreate:
      required:
      - "identifier_key"
      type: "object"
      description: "Identifier Create for Post"
      allOf:
      - $ref: "#/components/schemas/Identifier"
    IdentifierUpdate:
      $ref: "#/components/schemas/Codes"
    Link:
      type: "array"
      description: "Quick Link"
      items:
        type: "string"
    Links:
      type: "array"
      description: "List of Links"
      items:
        type: "string"
    Money:
      type: "object"
      properties:
        money_key:
          type: "string"
          description: "The unique key for the monetary value."
          nullable: false
        money_id:
          type: "string"
          description: "The unique ID for the monetary value."
          nullable: false
        currency_code:
          type: "string"
          description: "ISO currency code, e.g., 'USD'."
          nullable: false
        display_value:
          type: "string"
          description: "The locale-specific display format for the valu..."
          nullable: false
        locale:
          type: "string"
          description: "The locale code (e.g., en-US, fr-FR)."
          nullable: false
        value:
          type: "string"
          description: "The monetary value."
          nullable: false
      description: "Represents a monetary value, including its curr..."
    Payment:
      $ref: "#/components/schemas/PaymentStatusTypes"
    PaymentAmountTypes:
      type: "string"
      description: "types of payment amounts."
      enum:
      - "PARTIAL_REFUND"
      - "TOTAL_REFUND"
      - "TOTAL_INTEREST"
      - "TOTAL_PAYMENT"
      - "TOTAL_PRINCIPAL"
      - "TOTAL_FINANCED"
      - "DOWN_PAYMENT"
      - "TRADE_IN_ALLOWANCE"
      - "CREDIT_CARD_PAYMENT"
      - "CASH_PAYMENT"
      - "CHECK_PAYMENT"
      - "EFT_PAYMENT"
      - "PAYMENT_EVENT"
      - "SCHEDULED_PAYMENT_EVENT"
      - "BASE_PAYMENT_EVENT"
      - "DESIRED_PAYMENT"
      - "ADMIN_FEE"
      - "GOVERNMENT_FEE"
      - "SERVICE_FEE"
      - "LATE_FEE"
      - "PAYROLL"
      - "OTHER"
    PaymentCreate:
      required:
      - "payment_key"
      type: "object"
      description: "Payment Create for Post"
      allOf:
      - $ref: "#/components/schemas/Payment"
    PaymentMethodReference:
      $ref: "#/components/schemas/Identifier"
    PaymentMethodReferenceCreate:
      required:
      - "payment_method_reference_key"
      type: "object"
      description: "PaymentMethodReference Create for Post"
      allOf:
      - $ref: "#/components/schemas/PaymentMethodReference"
    PaymentMethodReferenceUpdate:
      $ref: "#/components/schemas/Identifier"
    PaymentMethodTypes:
      type: "string"
      description: "types of payment methods."
      enum:
      - "CASH"
      - "CHECK"
      - "MONEY_ORDER"
      - "CASH_ON_DELIVERY"
      - "CREDIT_CARD"
      - "DEBIT_CARD"
      - "GIFT_CARD"
      - "EFT"
      - "ONLINE_BANK_TRANSFER"
      - "MOBILE_WALLET"
      - "CRYPTOCURRENCY"
      - "ONLINE_PAYMENT_PLATFORM"
      - "PAYROLL_DEDUCTION"
      - "FINANCE"
      - "LEASE"
      - "RENTAL"
      - "TERMS"
      - "DUE_ON_RECEIPT"
      - "TRADE_IN"
      - "REWARD_POINTS"
      - "STORE_CREDIT"
      - "EXCHANGE"
      - "OTHER"
      - "NOT_APPLICABLE"
    PaymentStatusTypes:
      type: "string"
      description: "types of payment status."
      enum:
      - "CREATED"
      - "PENDING"
      - "PROCESSING"
      - "PROCESSED"
      - "COMPLETED"
      - "SUCCEEDED"
      - "PAID"
      - "REJECTED"
      - "SCHEDULED"
      - "SUBMITTED"
      - "DEFERRED"
      - "DEFERRED_INTERNAL"
      - "CLEARED"
      - "FRAUD_REVIEW"
      - "APPROVED"
      - "ACCEPTED"
      - "REQUIRES_ACTION"
      - "REQUIRES_PAYMENT_STATUS"
      - "AUTO_SCHEDULED"
      - "AUTO_INITIATED"
      - "MANUAL_INITIATED"
      - "PENDING_PAYER_FUNDS"
      - "FAILED"
      - "DENIED"
      - "EXPIRED"
      - "CANCELLED"
      - "VOIDED"
      - "REVERSED"
      - "REFUNDED"
      - "PAYROLL_PENDING"
      - "PAYROLL_FINALIZED"
      - "ACTIVE"
      - "INACTIVE"
      - "FUNDED"
      - "RETURNED"
    PaymentTransaction:
      $ref: "#/components/schemas/PaymentTransactionStatusTypes"
    PaymentTransactionCreate:
      required:
      - "payment_transaction_key"
      type: "object"
      description: "PaymentTransaction Create for Post"
      allOf:
      - $ref: "#/components/schemas/PaymentTransaction"
    PaymentTransactionStatusTypes:
      type: "string"
      description: "types of payment transaction status."
      enum:
      - "NONE"
      - "EXPIRED"
      - "CAPTURED"
      - "CONFIRMATION"
      - "VOID"
      - "APPROVE"
      - "REFUNDED"
      - "PARTIALLY_REFUNDED"
      - "AUTHORIZE"
      - "PENDING_MERCHANT"
      - "SUSPENDED"
      - "OPEN"
      - "PEND"
      - "PROCESS"
      - "DECLINE"
      - "DUE"
      - "INCURRED"
      - "CUSTOM_CODE"
      - "USER_HOLD"
      - "ADMIN_HOLD"
      - "ACTIVATED"
      - "DEACTIVATE"
      - "CANCEL"
      - "CONFIRM"
      - "CLOSE"
      - "TRIAL"
      - "SUBSCRIPTION"
      - "OVERRIDE"
      - "UPGRADE"
      - "HOLD_ON_RENEWAL"
      - "HOLD_ON_DATE"
      - "PAYMENT"
      - "DOWNGRADE"
    PaymentTransactionUpdate:
      $ref: "#/components/schemas/PaymentAmountTypes"
    PaymentTransactions:
      type: "array"
      description: "List of PaymentTransaction"
      items:
        $ref: "#/components/schemas/PaymentTransaction"
    PaymentTransactionsCreate:
      type: "array"
      description: "PaymentTransactions Create for Post"
      items:
        $ref: "#/components/schemas/PaymentTransactions"
    PaymentTransactionsUpdate:
      type: "array"
      description: "PaymentTransactions Update for Patch and Put"
      items:
        $ref: "#/components/schemas/PaymentTransactions"
    PaymentUpdate:
      $ref: "#/components/schemas/PaymentStatusTypes"
  responses:
    NotFoundError:
      description: "The requested resource was not found."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    BadRequestError:
      description: "The request was malformed, failed validation, o..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    UnauthorizedError:
      description: "Authentication failed. The access token is miss..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    ForbiddenError:
      description: "The authenticated user does not have the necess..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    ConflictError:
      description: "The request could not be completed because it c..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
    ServerError:
      description: "An unexpected error occurred on the server whil..."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorDetail"
